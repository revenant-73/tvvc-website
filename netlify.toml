[build]
  publish = "/"
  command = ""  # Leave empty if no build step is needed

# Production context: all deploys from the main branch 
# will inherit these settings
[context.production]
  # Environment variables for production
  # environment = { NODE_VERSION = "16" }  # Uncomment if needed

# Deploy Preview context: all deploys generated from a pull/merge request
[context.deploy-preview]
  # Environment variables for deploy previews
  # environment = { NODE_VERSION = "16" }  # Uncomment if needed

# Branch Deploy context: all deploys that are not from a pull/merge request
# or from the production branch will inherit these settings
[context.branch-deploy]
  # Environment variables for branch deploys
  # environment = { NODE_VERSION = "16" }  # Uncomment if needed

# Set security headers to improve site security and address cookie warnings
[[headers]]
  for = "/*"
  [headers.values]
    # Enable HTTPS
    Strict-Transport-Security = "max-age=31536000; includeSubDomains; preload"
    
    # Prevent XSS attacks
    X-XSS-Protection = "1; mode=block"
    
    # Prevent MIME type sniffing
    X-Content-Type-Options = "nosniff"
    
    # Referrer policy
    Referrer-Policy = "strict-origin-when-cross-origin"
    
    # Cookie policy - helps with third-party cookie warnings
    Set-Cookie = "SameSite=Lax; Secure"
    
    # Permissions policy
    Permissions-Policy = "camera=(), microphone=(), geolocation=()"

# Redirects and headers are NGINX-style
# For more information see: https://docs.netlify.com/routing/redirects/

# Redirect rule defined in _redirects file

# Form handling configuration
[forms]
  # Form called "contact"
  [forms.contact]
    # Specify where to send form submissions
    [forms.contact.email]
      # Send a notification email when a form is submitted
      to = "info@tualatinvalleyvb.com"
      subject = "New Contact Form Submission"
      # Include all fields from the form
      includeData = true