function optimizeImages(){if("IntersectionObserver"in window){const e=document.querySelectorAll("img[data-src]"),t=new IntersectionObserver(((e,s)=>{e.forEach((e=>{if(e.isIntersecting){const s=e.target;s.src=s.dataset.src,s.dataset.srcset&&(s.srcset=s.dataset.srcset),s.classList.add("loaded"),t.unobserve(s)}}))}));e.forEach((e=>{t.observe(e)}))}else{document.querySelectorAll("img[data-src]").forEach((e=>{e.src=e.dataset.src,e.dataset.srcset&&(e.srcset=e.dataset.srcset)}))}}document.addEventListener("DOMContentLoaded",(function(){optimizeImages();const e=document.querySelector(".mobile-menu-toggle"),t=document.querySelector(".main-nav"),s=document.querySelector(".menu-overlay"),n=document.querySelector(".menu-icon"),o=document.querySelector(".close-icon"),r=document.body;function a(){t.classList.remove("active"),s.classList.remove("active"),e.classList.remove("active"),e.setAttribute("aria-expanded","false"),n.style.display="block",o.style.display="none",r.style.overflow=""}if(e&&t&&s){e.addEventListener("click",(function(){t.classList.contains("active")?a():(t.classList.add("active"),s.classList.add("active"),e.classList.add("active"),e.setAttribute("aria-expanded","true"),n.style.display="none",o.style.display="block",r.style.overflow="hidden")})),s.addEventListener("click",a);t.querySelectorAll("a").forEach((e=>{e.addEventListener("click",a)})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&t.classList.contains("active")&&a()}))}const c=window.location.pathname.split("/").pop(),i=document.querySelectorAll(".main-nav a");if(""===c||"index.html"===c){const e=document.querySelector(".main-nav a");e&&e.classList.add("active")}window.addEventListener("scroll",(function(){const e=document.querySelectorAll("section[id]"),t=window.scrollY+100;e.forEach((e=>{const s=e.offsetTop,n=e.offsetHeight,o=e.getAttribute("id");if(t>=s&&t<s+n){document.querySelectorAll(".main-nav a").forEach((e=>{e.classList.remove("active")}));const e=document.querySelector(`.main-nav a[href="#${o}"]`);e&&e.classList.add("active")}}))}));const l=document.querySelector(".scroll-indicator");l&&(l.addEventListener("click",(function(){const e=document.querySelector("#about");e&&e.scrollIntoView({behavior:"smooth"})})),window.addEventListener("scroll",(function(){window.scrollY>200?(l.style.opacity="0",l.style.pointerEvents="none"):(l.style.opacity="0.8",l.style.pointerEvents="auto")}))),i.forEach((e=>{const t=e.getAttribute("href");(t===c||""===c&&"index.html"===t)&&e.classList.add("active")})),document.querySelectorAll('a[href^="#"]').forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault();const t=this.getAttribute("href");if("#"===t)return;const s=document.querySelector(t);s&&(s.scrollIntoView({behavior:"smooth",block:"start"}),history.replaceState(null,null,t))}))}));const d=document.querySelector(".contact-form");function u(e,t){const s=document.createElement("div");s.className="error-message",s.textContent=t,s.style.color="var(--error)",s.style.fontSize="0.875rem",s.style.marginTop="0.25rem",e.parentNode.appendChild(s),e.style.borderColor="var(--error)",e.addEventListener("input",(function(){s.remove(),e.style.borderColor=""}),{once:!0})}d&&d.addEventListener("submit",(function(e){e.preventDefault();let t=!0;const s=d.querySelector('input[name="name"]'),n=d.querySelector('input[name="email"]'),o=d.querySelector('textarea[name="message"]');var r;if(d.querySelectorAll(".error-message").forEach((e=>e.remove())),s&&!s.value.trim()&&(u(s,"Please enter your name"),t=!1),n&&(n.value.trim()?(r=n.value,/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)||(u(n,"Please enter a valid email address"),t=!1)):(u(n,"Please enter your email"),t=!1)),o&&!o.value.trim()&&(u(o,"Please enter your message"),t=!1),t){const e=d.querySelector('button[type="submit"]'),t=e.textContent;e.disabled=!0,e.textContent="Sending...",setTimeout((()=>{d.reset(),e.disabled=!1,e.textContent=t;const s=document.createElement("div");s.className="success-message",s.textContent="Thank you! Your message has been sent.",d.appendChild(s),setTimeout((()=>{s.remove()}),5e3)}),1500)}}));const m=document.querySelectorAll(".animate-fadeIn");if("IntersectionObserver"in window){const e=new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting&&(t.target.style.opacity="1",t.target.style.transform="translateY(0)",e.unobserve(t.target))}))}),{threshold:.1});m.forEach((t=>{t.style.opacity="0",t.style.transform="translateY(20px)",t.style.transition="opacity 0.5s ease, transform 0.5s ease",e.observe(t)}))}else m.forEach((e=>{e.style.opacity="1",e.style.transform="translateY(0)"}))}));